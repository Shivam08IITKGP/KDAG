2026-01-11 20:56:27 | INFO     | root | setup_logging:81 | Logging initialized. Log file: logs/run_20260111_205627.log
2026-01-11 20:56:27 | INFO     | __main__ | main:27 | Starting Test Pipeline. Log: logs/run_20260111_205627.log
2026-01-11 20:56:27 | INFO     | __main__ | main:34 | Loaded 2 rows from test.csv
2026-01-11 20:56:28 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
2026-01-11 20:56:28 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11e651f10>
2026-01-11 20:56:28 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.started request=<Request [b'GET']>
2026-01-11 20:56:28 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.complete
2026-01-11 20:56:28 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.started request=<Request [b'GET']>
2026-01-11 20:56:28 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.complete
2026-01-11 20:56:28 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.started request=<Request [b'GET']>
2026-01-11 20:56:28 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'zstd'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sun, 11 Jan 2026 15:26:27 GMT')])
2026-01-11 20:56:28 | INFO     | httpx | _send_single_request:1025 | HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2026-01-11 20:56:28 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.started request=<Request [b'GET']>
2026-01-11 20:56:28 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.complete
2026-01-11 20:56:28 | DEBUG    | httpcore.http11 | trace:47 | response_closed.started
2026-01-11 20:56:28 | DEBUG    | httpcore.http11 | trace:47 | response_closed.complete
2026-01-11 20:56:28 | DEBUG    | httpcore.connection | trace:47 | close.started
2026-01-11 20:56:28 | DEBUG    | httpcore.connection | trace:47 | close.complete
2026-01-11 20:56:28 | INFO     | sentence_transformers.SentenceTransformer | __init__:219 | Use pytorch device_name: mps
2026-01-11 20:56:28 | INFO     | sentence_transformers.SentenceTransformer | __init__:227 | Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2026-01-11 20:56:28 | DEBUG    | urllib3.connectionpool | _new_conn:1049 | Starting new HTTPS connection (1): huggingface.co:443
2026-01-11 20:56:28 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json HTTP/1.1" 307 0
2026-01-11 20:56:28 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json HTTP/1.1" 200 0
2026-01-11 20:56:28 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json HTTP/1.1" 307 0
2026-01-11 20:56:28 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json HTTP/1.1" 200 0
2026-01-11 20:56:29 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json HTTP/1.1" 307 0
2026-01-11 20:56:29 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json HTTP/1.1" 200 0
2026-01-11 20:56:29 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/README.md HTTP/1.1" 307 0
2026-01-11 20:56:29 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/README.md HTTP/1.1" 200 0
2026-01-11 20:56:29 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json HTTP/1.1" 307 0
2026-01-11 20:56:29 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json HTTP/1.1" 200 0
2026-01-11 20:56:29 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/sentence_bert_config.json HTTP/1.1" 307 0
2026-01-11 20:56:29 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/sentence_bert_config.json HTTP/1.1" 200 0
2026-01-11 20:56:30 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/adapter_config.json HTTP/1.1" 404 0
2026-01-11 20:56:30 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config.json HTTP/1.1" 307 0
2026-01-11 20:56:30 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config.json HTTP/1.1" 200 0
2026-01-11 20:56:31 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/tokenizer_config.json HTTP/1.1" 307 0
2026-01-11 20:56:31 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/tokenizer_config.json HTTP/1.1" 200 0
2026-01-11 20:56:31 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "GET /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False HTTP/1.1" 404 64
2026-01-11 20:56:31 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "GET /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main?recursive=True&expand=False HTTP/1.1" 200 6465
2026-01-11 20:56:32 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/1_Pooling/config.json HTTP/1.1" 307 0
2026-01-11 20:56:32 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/1_Pooling%2Fconfig.json HTTP/1.1" 200 0
2026-01-11 20:56:32 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "GET /api/models/sentence-transformers/all-MiniLM-L6-v2 HTTP/1.1" 200 6930
2026-01-11 20:56:56 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
2026-01-11 20:56:56 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11ea719d0>
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.started request=<Request [b'GET']>
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.complete
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.started request=<Request [b'GET']>
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.complete
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.started request=<Request [b'GET']>
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-encoding', b'zstd'), (b'content-type', b'application/json'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sun, 11 Jan 2026 15:26:56 GMT')])
2026-01-11 20:56:56 | INFO     | httpx | _send_single_request:1025 | HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.started request=<Request [b'GET']>
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.complete
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | response_closed.started
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | response_closed.complete
2026-01-11 20:56:56 | DEBUG    | httpcore.connection | trace:47 | close.started
2026-01-11 20:56:56 | DEBUG    | httpcore.connection | trace:47 | close.complete
2026-01-11 20:56:56 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
2026-01-11 20:56:56 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11e651eb0>
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.started request=<Request [b'GET']>
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.complete
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.started request=<Request [b'GET']>
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.complete
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.started request=<Request [b'GET']>
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-encoding', b'zstd'), (b'date', b'Sun, 11 Jan 2026 15:26:56 GMT')])
2026-01-11 20:56:56 | INFO     | httpx | _send_single_request:1025 | HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.started request=<Request [b'GET']>
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.complete
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | response_closed.started
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | response_closed.complete
2026-01-11 20:56:56 | DEBUG    | httpcore.connection | trace:47 | close.started
2026-01-11 20:56:56 | DEBUG    | httpcore.connection | trace:47 | close.complete
2026-01-11 20:56:56 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
2026-01-11 20:56:56 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11e6524e0>
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.started request=<Request [b'PUT']>
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.complete
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.started request=<Request [b'PUT']>
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.complete
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.started request=<Request [b'PUT']>
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-type', b'application/json'), (b'content-encoding', b'zstd'), (b'date', b'Sun, 11 Jan 2026 15:26:56 GMT')])
2026-01-11 20:56:56 | INFO     | httpx | _send_single_request:1025 | HTTP Request: PUT http://localhost:6333/collections/the%20count%20of%20monte%20cristo_collection/points?wait=true "HTTP/1.1 200 OK"
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.started request=<Request [b'PUT']>
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.complete
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | response_closed.started
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | response_closed.complete
2026-01-11 20:56:56 | DEBUG    | httpcore.connection | trace:47 | close.started
2026-01-11 20:56:56 | DEBUG    | httpcore.connection | trace:47 | close.complete
2026-01-11 20:56:56 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
2026-01-11 20:56:56 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11e651e80>
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.started request=<Request [b'PUT']>
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.complete
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.started request=<Request [b'PUT']>
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.complete
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.started request=<Request [b'PUT']>
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'zstd'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sun, 11 Jan 2026 15:26:56 GMT')])
2026-01-11 20:56:56 | INFO     | httpx | _send_single_request:1025 | HTTP Request: PUT http://localhost:6333/collections/the%20count%20of%20monte%20cristo_collection/points?wait=true "HTTP/1.1 200 OK"
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.started request=<Request [b'PUT']>
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.complete
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | response_closed.started
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | response_closed.complete
2026-01-11 20:56:56 | DEBUG    | httpcore.connection | trace:47 | close.started
2026-01-11 20:56:56 | DEBUG    | httpcore.connection | trace:47 | close.complete
2026-01-11 20:56:56 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
2026-01-11 20:56:56 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11e651fa0>
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.started request=<Request [b'PUT']>
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.complete
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.started request=<Request [b'PUT']>
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.complete
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.started request=<Request [b'PUT']>
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-type', b'application/json'), (b'content-encoding', b'zstd'), (b'date', b'Sun, 11 Jan 2026 15:26:56 GMT')])
2026-01-11 20:56:56 | INFO     | httpx | _send_single_request:1025 | HTTP Request: PUT http://localhost:6333/collections/the%20count%20of%20monte%20cristo_collection/points?wait=true "HTTP/1.1 200 OK"
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.started request=<Request [b'PUT']>
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.complete
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | response_closed.started
2026-01-11 20:56:56 | DEBUG    | httpcore.http11 | trace:47 | response_closed.complete
2026-01-11 20:56:56 | DEBUG    | httpcore.connection | trace:47 | close.started
2026-01-11 20:56:56 | DEBUG    | httpcore.connection | trace:47 | close.complete
2026-01-11 20:56:57 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
2026-01-11 20:56:57 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11e652600>
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.started request=<Request [b'PUT']>
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.complete
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.started request=<Request [b'PUT']>
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.complete
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.started request=<Request [b'PUT']>
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'zstd'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sun, 11 Jan 2026 15:26:56 GMT')])
2026-01-11 20:56:57 | INFO     | httpx | _send_single_request:1025 | HTTP Request: PUT http://localhost:6333/collections/the%20count%20of%20monte%20cristo_collection/points?wait=true "HTTP/1.1 200 OK"
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.started request=<Request [b'PUT']>
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.complete
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | response_closed.started
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | response_closed.complete
2026-01-11 20:56:57 | DEBUG    | httpcore.connection | trace:47 | close.started
2026-01-11 20:56:57 | DEBUG    | httpcore.connection | trace:47 | close.complete
2026-01-11 20:56:57 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
2026-01-11 20:56:57 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11e6521e0>
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.started request=<Request [b'PUT']>
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.complete
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.started request=<Request [b'PUT']>
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.complete
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.started request=<Request [b'PUT']>
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-encoding', b'zstd'), (b'content-type', b'application/json'), (b'date', b'Sun, 11 Jan 2026 15:26:56 GMT')])
2026-01-11 20:56:57 | INFO     | httpx | _send_single_request:1025 | HTTP Request: PUT http://localhost:6333/collections/the%20count%20of%20monte%20cristo_collection/points?wait=true "HTTP/1.1 200 OK"
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.started request=<Request [b'PUT']>
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.complete
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | response_closed.started
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | response_closed.complete
2026-01-11 20:56:57 | DEBUG    | httpcore.connection | trace:47 | close.started
2026-01-11 20:56:57 | DEBUG    | httpcore.connection | trace:47 | close.complete
2026-01-11 20:56:57 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
2026-01-11 20:56:57 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11ded6930>
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.started request=<Request [b'PUT']>
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.complete
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.started request=<Request [b'PUT']>
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.complete
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.started request=<Request [b'PUT']>
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-encoding', b'zstd'), (b'content-type', b'application/json'), (b'date', b'Sun, 11 Jan 2026 15:26:56 GMT')])
2026-01-11 20:56:57 | INFO     | httpx | _send_single_request:1025 | HTTP Request: PUT http://localhost:6333/collections/the%20count%20of%20monte%20cristo_collection/points?wait=true "HTTP/1.1 200 OK"
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.started request=<Request [b'PUT']>
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.complete
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | response_closed.started
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | response_closed.complete
2026-01-11 20:56:57 | DEBUG    | httpcore.connection | trace:47 | close.started
2026-01-11 20:56:57 | DEBUG    | httpcore.connection | trace:47 | close.complete
2026-01-11 20:56:57 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
2026-01-11 20:56:57 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11e419d00>
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.started request=<Request [b'PUT']>
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.complete
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.started request=<Request [b'PUT']>
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.complete
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.started request=<Request [b'PUT']>
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'zstd'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sun, 11 Jan 2026 15:26:57 GMT')])
2026-01-11 20:56:57 | INFO     | httpx | _send_single_request:1025 | HTTP Request: PUT http://localhost:6333/collections/the%20count%20of%20monte%20cristo_collection/points?wait=true "HTTP/1.1 200 OK"
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.started request=<Request [b'PUT']>
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.complete
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | response_closed.started
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | response_closed.complete
2026-01-11 20:56:57 | DEBUG    | httpcore.connection | trace:47 | close.started
2026-01-11 20:56:57 | DEBUG    | httpcore.connection | trace:47 | close.complete
2026-01-11 20:56:57 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
2026-01-11 20:56:57 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11ea70410>
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.started request=<Request [b'GET']>
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.complete
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.started request=<Request [b'GET']>
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.complete
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.started request=<Request [b'GET']>
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-encoding', b'zstd'), (b'content-type', b'application/json'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sun, 11 Jan 2026 15:26:57 GMT')])
2026-01-11 20:56:57 | INFO     | httpx | _send_single_request:1025 | HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.started request=<Request [b'GET']>
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.complete
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | response_closed.started
2026-01-11 20:56:57 | DEBUG    | httpcore.http11 | trace:47 | response_closed.complete
2026-01-11 20:56:57 | DEBUG    | httpcore.connection | trace:47 | close.started
2026-01-11 20:56:57 | DEBUG    | httpcore.connection | trace:47 | close.complete
2026-01-11 20:56:57 | INFO     | sentence_transformers.SentenceTransformer | __init__:219 | Use pytorch device_name: mps
2026-01-11 20:56:57 | INFO     | sentence_transformers.SentenceTransformer | __init__:227 | Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2026-01-11 20:56:57 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json HTTP/1.1" 307 0
2026-01-11 20:56:57 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json HTTP/1.1" 200 0
2026-01-11 20:56:58 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json HTTP/1.1" 307 0
2026-01-11 20:56:58 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json HTTP/1.1" 200 0
2026-01-11 20:56:58 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json HTTP/1.1" 307 0
2026-01-11 20:56:58 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json HTTP/1.1" 200 0
2026-01-11 20:56:58 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/README.md HTTP/1.1" 307 0
2026-01-11 20:56:58 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/README.md HTTP/1.1" 200 0
2026-01-11 20:56:59 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json HTTP/1.1" 307 0
2026-01-11 20:56:59 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json HTTP/1.1" 200 0
2026-01-11 20:56:59 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/sentence_bert_config.json HTTP/1.1" 307 0
2026-01-11 20:56:59 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/sentence_bert_config.json HTTP/1.1" 200 0
2026-01-11 20:56:59 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/adapter_config.json HTTP/1.1" 404 0
2026-01-11 20:57:00 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config.json HTTP/1.1" 307 0
2026-01-11 20:57:00 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config.json HTTP/1.1" 200 0
2026-01-11 20:57:00 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/tokenizer_config.json HTTP/1.1" 307 0
2026-01-11 20:57:00 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/tokenizer_config.json HTTP/1.1" 200 0
2026-01-11 20:57:00 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "GET /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False HTTP/1.1" 404 64
2026-01-11 20:57:01 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "GET /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main?recursive=True&expand=False HTTP/1.1" 200 6465
2026-01-11 20:57:01 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/1_Pooling/config.json HTTP/1.1" 307 0
2026-01-11 20:57:01 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/1_Pooling%2Fconfig.json HTTP/1.1" 200 0
2026-01-11 20:57:01 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "GET /api/models/sentence-transformers/all-MiniLM-L6-v2 HTTP/1.1" 200 6930
2026-01-11 20:57:02 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
2026-01-11 20:57:02 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11e8eb9b0>
2026-01-11 20:57:02 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.started request=<Request [b'POST']>
2026-01-11 20:57:02 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.complete
2026-01-11 20:57:02 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.started request=<Request [b'POST']>
2026-01-11 20:57:02 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.complete
2026-01-11 20:57:02 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.started request=<Request [b'POST']>
2026-01-11 20:57:02 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-encoding', b'zstd'), (b'date', b'Sun, 11 Jan 2026 15:27:01 GMT')])
2026-01-11 20:57:02 | INFO     | httpx | _send_single_request:1025 | HTTP Request: POST http://localhost:6333/collections/the%20count%20of%20monte%20cristo_collection/points/query "HTTP/1.1 200 OK"
2026-01-11 20:57:02 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.started request=<Request [b'POST']>
2026-01-11 20:57:02 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.complete
2026-01-11 20:57:02 | DEBUG    | httpcore.http11 | trace:47 | response_closed.started
2026-01-11 20:57:02 | DEBUG    | httpcore.http11 | trace:47 | response_closed.complete
2026-01-11 20:57:02 | DEBUG    | httpcore.connection | trace:47 | close.started
2026-01-11 20:57:02 | DEBUG    | httpcore.connection | trace:47 | close.complete
2026-01-11 20:57:02 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /cross-encoder/ms-marco-MiniLM-L-6-v2/resolve/main/config.json HTTP/1.1" 307 0
2026-01-11 20:57:02 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /cross-encoder/ms-marco-MiniLM-L6-v2/resolve/main/config.json HTTP/1.1" 307 0
2026-01-11 20:57:02 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /api/resolve-cache/models/cross-encoder/ms-marco-MiniLM-L6-v2/c5ee24cb16019beea0893ab7796b1df96625c6b8/config.json HTTP/1.1" 200 0
2026-01-11 20:57:02 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /cross-encoder/ms-marco-MiniLM-L-6-v2/resolve/main/tokenizer_config.json HTTP/1.1" 307 0
2026-01-11 20:57:03 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /cross-encoder/ms-marco-MiniLM-L6-v2/resolve/main/tokenizer_config.json HTTP/1.1" 307 0
2026-01-11 20:57:03 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /api/resolve-cache/models/cross-encoder/ms-marco-MiniLM-L6-v2/c5ee24cb16019beea0893ab7796b1df96625c6b8/tokenizer_config.json HTTP/1.1" 200 0
2026-01-11 20:57:03 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "GET /api/models/cross-encoder/ms-marco-MiniLM-L-6-v2/tree/main/additional_chat_templates?recursive=False&expand=False HTTP/1.1" 307 147
2026-01-11 20:57:03 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "GET /api/models/cross-encoder/ms-marco-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False HTTP/1.1" 404 64
2026-01-11 20:57:04 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "GET /api/models/cross-encoder/ms-marco-MiniLM-L-6-v2/tree/main?recursive=True&expand=False HTTP/1.1" 307 120
2026-01-11 20:57:04 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "GET /api/models/cross-encoder/ms-marco-MiniLM-L6-v2/tree/main?recursive=True&expand=False HTTP/1.1" 200 5436
2026-01-11 20:57:04 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /cross-encoder/ms-marco-MiniLM-L-6-v2/resolve/main/README.md HTTP/1.1" 307 0
2026-01-11 20:57:04 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /cross-encoder/ms-marco-MiniLM-L6-v2/resolve/main/README.md HTTP/1.1" 307 0
2026-01-11 20:57:04 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "HEAD /api/resolve-cache/models/cross-encoder/ms-marco-MiniLM-L6-v2/c5ee24cb16019beea0893ab7796b1df96625c6b8/README.md HTTP/1.1" 200 0
2026-01-11 20:57:04 | INFO     | sentence_transformers.cross_encoder.CrossEncoder | __init__:228 | Use pytorch device: mps
2026-01-11 20:57:05 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "GET /api/models/cross-encoder/ms-marco-MiniLM-L-6-v2 HTTP/1.1" 307 82
2026-01-11 20:57:06 | DEBUG    | urllib3.connectionpool | _make_request:544 | https://huggingface.co:443 "GET /api/models/cross-encoder/ms-marco-MiniLM-L6-v2 HTTP/1.1" 200 5350
2026-01-11 20:57:06 | INFO     | main | run_pipeline_for_row:159 | Processing: Noirtier from The Count of Monte Cristo
2026-01-11 20:57:06 | INFO     | main | run_pipeline_for_row:178 | Running pipeline
2026-01-11 20:57:06 | INFO     | extraction_agent.main | extract:48 | Starting extraction agent
2026-01-11 20:57:06 | INFO     | extraction_agent.main | extract:49 | Book: The Count of Monte Cristo, Character: Noirtier
2026-01-11 20:57:06 | INFO     | extraction_agent.character_summaries | get_character_summary:86 | ✅ Found character summary for Noirtier (Length: 1922)
2026-01-11 20:57:06 | INFO     | extraction_agent.character_summaries | get_character_summary:87 | Summary Start: Noirtier de Villefort is the father of the Procureur du Roi, Gérard de Villefort, and a former Frenc...
2026-01-11 20:57:06 | INFO     | extraction_agent.main | extract:54 | Using character summary for Noirtier
2026-01-11 20:57:06 | DEBUG    | extraction_agent.main | extract:55 | Summary length: 1922 characters
2026-01-11 20:57:07 | ERROR    | __main__ | main:173 | Error processing row 0: 1 validation error for ChatGoogleGenerativeAI
  Value error, API key required for Gemini Developer API. Provide api_key parameter or set GOOGLE_API_KEY/GEMINI_API_KEY environment variable. [type=value_error, input_value={'model': 'gemini-2.0-fla...: 0, 'model_kwargs': {}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/value_error
Traceback (most recent call last):
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/test_pipeline.py", line 83, in main
    state = run_pipeline_for_row(row_data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/main.py", line 181, in run_pipeline_for_row
    final_state = app.invoke(initial_state)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/.venv/lib/python3.12/site-packages/langgraph/pregel/main.py", line 3068, in invoke
    for chunk in self.stream(
                 ^^^^^^^^^^^^
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/.venv/lib/python3.12/site-packages/langgraph/pregel/main.py", line 2643, in stream
    for _ in runner.tick(
             ^^^^^^^^^^^^
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/.venv/lib/python3.12/site-packages/langgraph/pregel/_runner.py", line 167, in tick
    run_with_retry(
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/.venv/lib/python3.12/site-packages/langgraph/pregel/_retry.py", line 42, in run_with_retry
    return task.proc.invoke(task.input, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/.venv/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 656, in invoke
    input = context.run(step.invoke, input, config, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/.venv/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 400, in invoke
    ret = self.func(*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/extraction_agent/main.py", line 61, in extract
    llm = create_llm()
          ^^^^^^^^^^^^
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/shared_config.py", line 27, in create_llm
    return ChatGoogleGenerativeAI(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/.venv/lib/python3.12/site-packages/langchain_google_genai/chat_models.py", line 2269, in __init__
    super().__init__(**kwargs)
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/.venv/lib/python3.12/site-packages/langchain_core/load/serializable.py", line 117, in __init__
    super().__init__(*args, **kwargs)
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/.venv/lib/python3.12/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for ChatGoogleGenerativeAI
  Value error, API key required for Gemini Developer API. Provide api_key parameter or set GOOGLE_API_KEY/GEMINI_API_KEY environment variable. [type=value_error, input_value={'model': 'gemini-2.0-fla...: 0, 'model_kwargs': {}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/value_error
During task with name 'extract' and id 'e38e4277-4d6f-4477-f6fa-a89620ce37a3'
2026-01-11 20:57:07 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
2026-01-11 20:57:07 | DEBUG    | httpcore.connection | trace:47 | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x13a2459a0>
2026-01-11 20:57:07 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.started request=<Request [b'POST']>
2026-01-11 20:57:07 | DEBUG    | httpcore.http11 | trace:47 | send_request_headers.complete
2026-01-11 20:57:07 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.started request=<Request [b'POST']>
2026-01-11 20:57:07 | DEBUG    | httpcore.http11 | trace:47 | send_request_body.complete
2026-01-11 20:57:07 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.started request=<Request [b'POST']>
2026-01-11 20:57:07 | DEBUG    | httpcore.http11 | trace:47 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-type', b'application/json'), (b'content-encoding', b'zstd'), (b'date', b'Sun, 11 Jan 2026 15:27:06 GMT')])
2026-01-11 20:57:07 | INFO     | httpx | _send_single_request:1025 | HTTP Request: POST http://localhost:6333/collections/the%20count%20of%20monte%20cristo_collection/points/query "HTTP/1.1 200 OK"
2026-01-11 20:57:07 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.started request=<Request [b'POST']>
2026-01-11 20:57:07 | DEBUG    | httpcore.http11 | trace:47 | receive_response_body.complete
2026-01-11 20:57:07 | DEBUG    | httpcore.http11 | trace:47 | response_closed.started
2026-01-11 20:57:07 | DEBUG    | httpcore.http11 | trace:47 | response_closed.complete
2026-01-11 20:57:07 | DEBUG    | httpcore.connection | trace:47 | close.started
2026-01-11 20:57:07 | DEBUG    | httpcore.connection | trace:47 | close.complete
2026-01-11 20:57:07 | INFO     | main | run_pipeline_for_row:159 | Processing: Faria from The Count of Monte Cristo
2026-01-11 20:57:07 | INFO     | main | run_pipeline_for_row:178 | Running pipeline
2026-01-11 20:57:07 | INFO     | extraction_agent.main | extract:48 | Starting extraction agent
2026-01-11 20:57:07 | INFO     | extraction_agent.main | extract:49 | Book: The Count of Monte Cristo, Character: Faria
2026-01-11 20:57:07 | INFO     | extraction_agent.character_summaries | get_character_summary:86 | ✅ Found character summary for Faria (Length: 1652)
2026-01-11 20:57:07 | INFO     | extraction_agent.character_summaries | get_character_summary:87 | Summary Start: Abbé Faria is an elderly Italian priest and scholar imprisoned in the Château d'If since 1811 for hi...
2026-01-11 20:57:07 | INFO     | extraction_agent.main | extract:54 | Using character summary for Faria
2026-01-11 20:57:07 | DEBUG    | extraction_agent.main | extract:55 | Summary length: 1652 characters
2026-01-11 20:57:07 | ERROR    | __main__ | main:173 | Error processing row 1: 1 validation error for ChatGoogleGenerativeAI
  Value error, API key required for Gemini Developer API. Provide api_key parameter or set GOOGLE_API_KEY/GEMINI_API_KEY environment variable. [type=value_error, input_value={'model': 'gemini-2.0-fla...: 0, 'model_kwargs': {}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/value_error
Traceback (most recent call last):
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/test_pipeline.py", line 83, in main
    state = run_pipeline_for_row(row_data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/main.py", line 181, in run_pipeline_for_row
    final_state = app.invoke(initial_state)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/.venv/lib/python3.12/site-packages/langgraph/pregel/main.py", line 3068, in invoke
    for chunk in self.stream(
                 ^^^^^^^^^^^^
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/.venv/lib/python3.12/site-packages/langgraph/pregel/main.py", line 2643, in stream
    for _ in runner.tick(
             ^^^^^^^^^^^^
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/.venv/lib/python3.12/site-packages/langgraph/pregel/_runner.py", line 167, in tick
    run_with_retry(
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/.venv/lib/python3.12/site-packages/langgraph/pregel/_retry.py", line 42, in run_with_retry
    return task.proc.invoke(task.input, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/.venv/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 656, in invoke
    input = context.run(step.invoke, input, config, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/.venv/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 400, in invoke
    ret = self.func(*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/extraction_agent/main.py", line 61, in extract
    llm = create_llm()
          ^^^^^^^^^^^^
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/shared_config.py", line 27, in create_llm
    return ChatGoogleGenerativeAI(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/.venv/lib/python3.12/site-packages/langchain_google_genai/chat_models.py", line 2269, in __init__
    super().__init__(**kwargs)
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/.venv/lib/python3.12/site-packages/langchain_core/load/serializable.py", line 117, in __init__
    super().__init__(*args, **kwargs)
  File "/Users/ramlanjekar/Documents/MyProjects/KDAG/.venv/lib/python3.12/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for ChatGoogleGenerativeAI
  Value error, API key required for Gemini Developer API. Provide api_key parameter or set GOOGLE_API_KEY/GEMINI_API_KEY environment variable. [type=value_error, input_value={'model': 'gemini-2.0-fla...: 0, 'model_kwargs': {}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/value_error
During task with name 'extract' and id '8748d01f-14b2-e316-9335-3e85ab4a645c'
